<form [formGroup]="form" (ngSubmit)="submitForm()">
  <div *ngFor="let field of fields">
    <!-- <label [for]="field.name">{{field.label}}</label>
    <div [ngSwitch]="field.type">
      <input *ngSwitchCase="'text'" type="text" [id]="field.name" [formControlName]="field.name">
      <input *ngSwitchCase="'email'" type="email" [id]="field.name" [formControlName]="field.name">
      <textarea *ngSwitchCase="'textarea'" [id]="field.name" [formControlName]="field.name"></textarea>
      <select *ngSwitchCase="'select'" [id]="field.name" [formControlName]="field.name">
        <option *ngFor="let option of field.options" [value]="option.value">{{option.label}}</option>
      </select>
    </div> -->
    <app-input [control]="form.get(field.name)" [type]=field.type [label]=field.label [maxlength]=field.maxlength
      [minlength]=field.minlength [autofocus]=field.autofocus [required]=field.required [pattern]=field.pattern></app-input>
  </div>
  <button type="submit">Submit</button>
</form>